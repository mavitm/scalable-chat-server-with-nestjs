{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MessageList.vue?dc7d","webpack:///./src/App.vue?5014","webpack:///./src/components/ChatMain.vue?e82d","webpack:///./src/components/MessageList.vue?a239","webpack:///./src/components/MessageItem.vue?9733","webpack:///src/components/MessageItem.vue","webpack:///./src/components/MessageItem.vue?86ac","webpack:///./src/components/MessageItem.vue","webpack:///src/components/MessageList.vue","webpack:///./src/components/MessageList.vue?4b41","webpack:///./src/components/MessageList.vue","webpack:///./src/components/MessageForm.vue?f219","webpack:///src/components/MessageForm.vue","webpack:///./src/components/MessageForm.vue?4844","webpack:///./src/components/MessageForm.vue","webpack:///./src/components/UserList.vue?6a5c","webpack:///src/components/UserList.vue","webpack:///./src/components/UserList.vue?1d6d","webpack:///./src/components/UserList.vue","webpack:///src/components/ChatMain.vue","webpack:///./src/components/ChatMain.vue?6798","webpack:///./src/components/ChatMain.vue","webpack:///./src/components/LoginForm.vue?0e11","webpack:///src/components/LoginForm.vue","webpack:///./src/components/LoginForm.vue?e967","webpack:///./src/components/LoginForm.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/filters/AllFilters.js","webpack:///./src/mixins/AppWebSocket.js","webpack:///./src/mixins/AppData.js","webpack:///./src/main.js","webpack:///./src/App.vue?db16","webpack:///./src/components/LoginForm.vue?805f","webpack:///./src/components/ChatMain.vue?3eee","webpack:///./src/components/UserList.vue?cac9","webpack:///./src/components/MessageItem.vue?e19f","webpack:///./src/components/MessageForm.vue?6015"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","$root","staticRenderFns","staticClass","_v","_s","userInfo","_l","message","index","class","itemCss","isNotfy","_e","owner","content","created","props","type","required","computed","css","component","components","MessageItem","messagePage","dataItemLimit","messages","methods","requestGetMessages","console","that","method","params","page","limit","sort","sortBy","token","id","listenServerMessage","res","alert","self","listenLastMessageList","setUserMessage","listenNotify","user","user_id","_id","user_name","notify","setScrollPos","setTimeout","scrollingElement","mounted","destroyed","directives","rawName","expression","_f","domProps","on","$event","indexOf","_k","keyCode","sendMessage","arguments","target","composing","btnDisable","selfMessageCount","makeMessageId","then","changeUserList","userPage","addToFriends","userTab","users","userListText","requestGetUsers","listenUser","pagePlus","userId","_send","MessageList","MessageForm","UserList","formType","headerCss","errorTextView","email","password","connectToSocket","viewForm","errorText","errorTimer","hasError","errorTypeOfArray","socketConnectedEvent","listenLogin","response","setError","clearTimeout","ChatMain","LoginForm","AllFilters","_","text","__","replace","trans","keys","entries","forEach","RegExp","capitalize","toString","charAt","toUpperCase","deCapitalize","toLowerCase","dataText","val","io","require","appWebSocket","socket","socketConnected","wsListener","socketPromiseQueue","socketPromiseTimeout","idEventPrefix","ws_connection","connect","transports","ws_connected","ws_disconnected","ws_reconnect","ws_dispatcher","log","appEvent","emit","payload","JSON","parse","sendLoginRequest","sendRegisterRequest","endpoint","option","ws_promise","ws_promise_resolver","timeout","setSocketResponseTimeOut","Promise","resolve","rResolve","rReject","handler","promise","reject","e","socketID","removeListener","timeOut","error","code","ws_disconnect","disconnect","AppData","isLogin","messageList","userList","setLoginUser","wsResponse","EventEmitter","Vue","filter","config","productionTip","App","mixins","render","h","$mount"],"mappings":"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","file":"js/app.0a77853d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.$root.isLogin)?_c('chat-main'):_c('login-form')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-main\"}},[_c('div',{staticClass:\"user-info\"},[_c('h1',[_c('span',[_vm._v(\"Hi!\")]),_vm._v(\" \"+_vm._s(_vm.$root.userInfo.name))])]),_c('div',{staticClass:\"c-row\"},[_c('div',{staticClass:\"col-messages\"},[_c('message-list')],1),_c('div',{staticClass:\"col-userlist\"},[_c('user-list')],1)]),_c('message-form')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-list\"},[_c('div',{staticClass:\"message-scroll\"},_vm._l((_vm.messages),function(message,index){return _c('message-item',{key:'message-item_' + index,attrs:{\"message\":message}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-item\",class:_vm.itemCss},[(!_vm.isNotfy)?_c('p',{staticClass:\"item-owner\"},[_c('strong',[_vm._v(_vm._s(_vm.message.owner))])]):_vm._e(),_c('p',{staticClass:\"item-content\"},[_vm._v(_vm._s(_vm.message.content))]),(!_vm.isNotfy)?_c('p',{staticClass:\"item-date\"},[_c('small',[_vm._v(_vm._s(_vm.message.created))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message-item\" :class=\"itemCss\">\n    <p class=\"item-owner\" v-if=\"!isNotfy\">\n      <strong>{{ message.owner }}</strong>\n    </p>\n    <p class=\"item-content\">{{ message.content }}</p>\n    <p class=\"item-date\" v-if=\"!isNotfy\">\n      <small>{{ message.created }}</small>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MessageItem\",\n  props: {\n    message: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    itemCss() {\n      let css = {};\n      if (this.message.self) {\n        css[\"self-message\"] = true;\n      }\n      if (this.isNotfy) {\n        css[\"notify\"] = true;\n      }\n      return css;\n    },\n    isNotfy() {\n      return Object.prototype.hasOwnProperty.call(this.message, \"notify\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.message-item {\n  border-radius: 15px;\n  margin: 10px;\n  padding: 15px;\n  background-color: #ebebeb;\n  border: 1px solid #cccccc;\n  &.self-message {\n    background-color: #168555;\n    border: none;\n    color: #ffffff;\n  }\n  &.notify {\n    background-color: #1f3864;\n    color: #ffffff;\n    width: 70%;\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  p {\n    padding: 0;\n    margin: 0;\n    &.item-owner {\n      font-size: 1.2rem;\n      font-weight: bold;\n    }\n    &.item-content {\n      padding: 10px 0;\n    }\n    &.item-date {\n      text-align: right;\n      font-size: 0.8rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageItem.vue?vue&type=template&id=6547512a&\"\nimport script from \"./MessageItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"message-list\">\n    <div class=\"message-scroll\">\n      <message-item\n        v-for=\"(message, index) in messages\"\n        :key=\"'message-item_' + index\"\n        :message=\"message\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageItem from \"@/components/MessageItem\";\nexport default {\n  name: \"MessageList\",\n  components: { MessageItem },\n  data() {\n    return {\n      messagePage: 1,\n      dataItemLimit: 50,\n    };\n  },\n  computed: {\n    messages() {\n      return this.$root.messageList;\n    },\n  },\n  methods: {\n    requestGetMessages() {\n      let that = this;\n      console.log(\"request message list\");\n      that.$root._send(\"getMessages\", {\n        method: \"getMessages\",\n        params: {\n          page: that.messagePage,\n          limit: that.dataItemLimit,\n          sort: \"asc\",\n          sortBy: \"created\",\n          token: that.$root.userInfo.token,\n        },\n        id: \"getMessages\",\n      });\n    },\n\n    listenServerMessage(res) {\n      let that = this;\n      if (!Object.prototype.hasOwnProperty.call(res, \"error\")) {\n        let isSelf = res.id.indexOf(that.$root.userInfo.id) > -1;\n        that.$root.messageList.push({\n          id: res.result._id,\n          owner: res.result.owner,\n          self: isSelf,\n          content: res.result.message,\n          created: res.result.created,\n        });\n        that.message = \"\";\n        that.selfMessageCount += 1;\n        that.setScrollPos();\n      } else {\n        alert(res.error.message);\n      }\n    },\n    listenLastMessageList(res) {\n      let that = this;\n      if (!Object.prototype.hasOwnProperty.call(res, \"error\")) {\n        res.result.forEach((item) => {\n          that.setUserMessage(item);\n        });\n      }\n      that.setScrollPos();\n    },\n    setUserMessage(message) {\n      let that = this;\n      let isSelf = message.user_id.indexOf(that.$root.userInfo.id) > -1;\n      that.$root.messageList.push({\n        id: message._id,\n        owner: message.user_name,\n        self: isSelf,\n        content: message.content,\n        created: message.created,\n      });\n      that.selfMessageCount += 1;\n      that.message = \"\";\n    },\n    listenNotify(message) {\n      let that = this;\n      let content = \"\";\n      try {\n        if (message.result.type === \"login\") {\n          content = this.$options.filters.__(\":user logged into the system\", {\n            user: message.result.user,\n          });\n        } else if (message.result.type === \"logout\") {\n          content = this.$options.filters.__(\":user logged out of the system\", {\n            user: message.result.user,\n          });\n        } else {\n          return;\n        }\n        that.$root.messageList.push({\n          user_id: \"-\",\n          _id: \"_\",\n          user_name: message.result.user,\n          content,\n          created: new Date(),\n          notify: true,\n        });\n      } catch (e) {\n        console.log(e.message, message);\n      }\n      that.setScrollPos();\n    },\n    setScrollPos() {\n      setTimeout(function () {\n        let scrollingElement = document.querySelector(\".message-scroll\");\n        scrollingElement.scrollTop = scrollingElement.scrollHeight;\n      }, 400);\n    },\n  },\n  mounted() {\n    this.requestGetMessages();\n    window.appEvent.on(\"message\", this.listenServerMessage);\n    window.appEvent.on(\"getMessages\", this.listenLastMessageList);\n    window.appEvent.on(\"notify\", this.listenNotify);\n  },\n  destroyed() {\n    window.appEvent.removeListener(\"message\", this.listenServerMessage);\n    window.appEvent.removeListener(\"getMessages\", this.listenLastMessageList);\n    window.appEvent.removeListener(\"notify\", this.listenNotify);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.message-list {\n  background-color: #ffffff;\n  border-radius: 15px;\n  width: calc(100% - 15px);\n  height: 100%;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  position: relative;\n  overflow: hidden;\n  .message-scroll {\n    position: absolute;\n    width: 100%;\n    height: auto;\n    max-height: 100%;\n    overflow-y: auto;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageList.vue?vue&type=template&id=c5c927bc&\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"mssage-text\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"_\")('message')},domProps:{\"value\":(_vm.message)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('button',{staticClass:\"btn btn-msg-button\",attrs:{\"type\":\"button\",\"disabled\":_vm.btnDisable},on:{\"click\":_vm.sendMessage}},[_vm._v(\" \"+_vm._s(_vm._f(\"_\")(\"send\"))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message-form\">\n    <input\n      type=\"text\"\n      class=\"mssage-text\"\n      :placeholder=\"'message' | _\"\n      v-model=\"message\"\n      @keyup.enter=\"sendMessage\"\n    />\n    <button\n      class=\"btn btn-msg-button\"\n      type=\"button\"\n      :disabled=\"btnDisable\"\n      @click=\"sendMessage\"\n    >\n      {{ \"send\" | _ }}\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MessageForm\",\n  data() {\n    return {\n      message: \"\",\n      selfMessageCount: 0,\n    };\n  },\n  computed: {\n    btnDisable() {\n      return this.message.trim().length < 1;\n    },\n    makeMessageId() {\n      return this.selfMessageCount + \"_message_\" + this.$root.userInfo.id;\n    },\n  },\n  methods: {\n    sendMessage() {\n      let that = this;\n      if (that.message.trim().length < 1) {\n        that.message = \"\";\n        return;\n      }\n      this.$root\n        .sendMessage({\n          method: \"message\",\n          id: this.makeMessageId,\n          params: {\n            message: that.message,\n            token: this.$root.userInfo.token,\n          },\n        })\n        .then(() => {\n          that.message = \"\";\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.message-form {\n  padding: 15px;\n  background-color: #ffffff;\n  border-radius: 15px;\n  margin-top: 15px;\n  display: flex;\n  flex-wrap: nowrap;\n  .mssage-text {\n    border: 1px solid #bdbfbd;\n    padding: 10px 15px;\n    width: 100%;\n    border-radius: 10px;\n    font-size: 1.5rem;\n  }\n  .btn-msg-button {\n    border: none;\n    background: #265285;\n    width: auto;\n    border-radius: 10px;\n    padding: 15px;\n    color: #ffffff;\n    cursor: pointer;\n    transition: all 300ms linear;\n    margin-left: 15px;\n    &:hover {\n      background: #2c914e;\n    }\n    &:disabled {\n      background-color: #ccc;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageForm.vue?vue&type=template&id=72d8768b&\"\nimport script from \"./MessageForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user_list\"},[_c('header',[_c('ul',[_c('li',{on:{\"click\":function($event){return _vm.changeUserList(-1)}}},[_c('a',[_vm._v(\" « \")])]),_c('li',[_c('a',[_vm._v(_vm._s(_vm.userPage))])]),_c('li',{on:{\"click\":function($event){return _vm.changeUserList(1)}}},[_c('a',[_vm._v(\" » \")])])])]),_c('div',{staticClass:\"user-list-wrapper\"},[_c('div',{staticClass:\"user-scroll\"},_vm._l((_vm.users),function(user,index){return _c('div',{key:'user' + index},[(user._id !== _vm.$root.userInfo.id)?_c('div',{staticClass:\"user-item\"},[_c('p',[_vm._v(_vm._s(user.name))]),_c('a',{on:{\"click\":function($event){return _vm.addToFriends(user._id)}}},[_vm._v(_vm._s(_vm._f(\"_\")(\"add to friends\")))])]):_vm._e()])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user_list\">\n    <header>\n      <ul>\n        <!--\n        <li class=\"active\">\n          <a>{{ \"My friends\" | _ }}</a>\n        </li>\n        -->\n        <li @click=\"changeUserList(-1)\"><a> &laquo; </a></li>\n        <li>\n          <a>{{ userPage }}</a>\n        </li>\n        <li @click=\"changeUserList(1)\"><a> &raquo; </a></li>\n      </ul>\n    </header>\n    <div class=\"user-list-wrapper\">\n      <div class=\"user-scroll\">\n        <div v-for=\"(user, index) in users\" :key=\"'user' + index\">\n          <div class=\"user-item\" v-if=\"user._id !== $root.userInfo.id\">\n            <p>{{ user.name }}</p>\n            <a @click=\"addToFriends(user._id)\">{{ \"add to friends\" | _ }}</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UserList\",\n  data() {\n    return {\n      userTab: \"myFriends\",\n      userPage: 1,\n      dataItemLimit: 50,\n      users: [],\n      userListText: \"\",\n    };\n  },\n  methods: {\n    requestGetUsers() {\n      let that = this;\n      that.$root._send(\"getUsers\", {\n        method: \"getUsers\",\n        params: {\n          page: that.userPage,\n          limit: that.dataItemLimit,\n          token: that.$root.userInfo.token,\n        },\n        id: \"getUsers\",\n      });\n    },\n    listenUser(res) {\n      let that = this;\n      if (!Object.prototype.hasOwnProperty.call(res, \"error\")) {\n        that.users = res.result;\n      } else {\n        that.userListText = that.$options.filters._(\"no record or not found\");\n      }\n    },\n    changeUserList(pagePlus) {\n      this.userPage += pagePlus;\n      if (this.userPage < 1) {\n        this.userPage = 1;\n      }\n      this.requestGetUsers();\n    },\n    addToFriends(userId) {\n      let that = this;\n      that.$root\n        ._send(\"setFriend\", {\n          method: \"setFriend\",\n          id: \"setFriend_\" + userId,\n          params: {\n            token: that.$root.userInfo.token,\n            id: userId,\n          },\n        })\n        .then((res) => {\n          if (!Object.prototype.hasOwnProperty.call(res, \"error\")) {\n            alert(res.result.message);\n          } else {\n            alert(res.error.message);\n          }\n        });\n    },\n  },\n  mounted() {\n    this.requestGetUsers();\n    window.appEvent.on(\"getUsers\", this.listenUser);\n  },\n  destroyed() {\n    window.appEvent.removeListener(\"getUsers\", this.listenUser);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.user_list {\n  background-color: #265285;\n  border-radius: 15px;\n  width: 100%;\n  height: 100%;\n  margin-left: auto;\n  display: flex;\n  flex-direction: column;\n  header {\n    margin: 0 0 15px 0;\n    ul {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      display: flex;\n      flex-wrap: nowrap;\n      flex-direction: row;\n      justify-content: center;\n      align-items: flex-start;\n      border-bottom: 1px solid #1f3864;\n      li {\n        border-right: 1px solid #1f3864;\n        width: 100%;\n        color: #ffffff;\n        &:first-child {\n          border-radius: 15px 0 0 0;\n        }\n        &:last-child {\n          border-right: none;\n          border-radius: 0 15px 0 0;\n        }\n        &:hover,\n        &.active {\n          background-color: #1f3864;\n          cursor: pointer;\n        }\n        position: relative;\n        a {\n          display: block;\n          padding: 15px;\n          width: 100%;\n          text-align: center;\n        }\n      }\n    }\n  }\n  .user-list-wrapper {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    .user-scroll {\n      position: absolute;\n      width: 100%;\n      height: auto;\n      max-height: 100%;\n      overflow-y: auto;\n      .user-item {\n        border-bottom: 1px solid #1f3864;\n        padding: 10px;\n        color: #ffffff;\n        p {\n          padding: 0;\n          margin: 0;\n          font-size: 1.2rem;\n          font-weight: bold;\n        }\n        a {\n          font-size: 1rem;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=5d6fce81&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app-main\">\n    <div class=\"user-info\">\n      <h1><span>Hi!</span> {{ $root.userInfo.name }}</h1>\n    </div>\n    <div class=\"c-row\">\n      <div class=\"col-messages\"><message-list /></div>\n      <div class=\"col-userlist\"><user-list /></div>\n    </div>\n    <message-form />\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList\";\nimport MessageForm from \"@/components/MessageForm\";\nimport UserList from \"@/components/UserList\";\nexport default {\n  name: \"ChatMain\",\n  components: { MessageList, MessageForm, UserList },\n};\n</script>\n\n<style lang=\"scss\">\n#app-main {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-content: flex-start;\n  padding: 30px;\n  background: #2980b9;\n  .user-info {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 15px;\n    background-color: #265285;\n    color: #ffffff;\n    border-radius: 0 0 10px 10px;\n    top: 30px;\n    left: 60px;\n    z-index: 9999;\n    h1 {\n      padding: 0;\n      margin: 0;\n      font-size: 1.3rem;\n    }\n  }\n  .c-row {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-content: flex-start;\n    width: 100%;\n    height: 100%;\n    .col-messages {\n      width: 80%;\n      height: 100%;\n    }\n    .col-userlist {\n      width: 20%;\n      height: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMain.vue?vue&type=template&id=1f91973a&\"\nimport script from \"./ChatMain.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMain.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"id\":\"login-form\"}},[_c('div',{staticClass:\"form-inputs\"},[(_vm.formType === 'login')?_c('h1',{staticClass:\"login-header\",class:_vm.headerCss},[_vm._v(\" \"+_vm._s(_vm._f(\"_\")(\"LOGIN FORM\"))+\" \")]):_vm._e(),(_vm.formType === 'register')?_c('h1',{staticClass:\"login-header\",class:_vm.headerCss},[_vm._v(\" \"+_vm._s(_vm._f(\"_\")(\"REGISTER FORM\"))+\" \")]):_vm._e(),(_vm.viewForm)?_c('div',{staticClass:\"login-main\"},[(_vm.hasError)?_c('p',{staticClass:\"error-text\"},[_vm._v(_vm._s(_vm.errorTextView))]):_vm._e(),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm._f(\"_\")(\"E-mail\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"_\")('yourname@host.ex')},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm._f(\"_\")(\"Password\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"******\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),(_vm.formType === 'login')?_c('button',{staticClass:\"btn login-button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.connectToSocket}},[_vm._v(\" \"+_vm._s(_vm._f(\"_\")(\"LOGIN\"))+\" \")]):_vm._e(),(_vm.formType === 'register')?_c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm._f(\"_\")(\"Name\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('button',{staticClass:\"btn login-button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.connectToSocket}},[_vm._v(\" \"+_vm._s(_vm._f(\"_\")(\"Register and login\"))+\" \")])]):_vm._e()]):_vm._e(),(!_vm.viewForm)?_c('div',{staticClass:\"login-loader\"},[_c('p',{staticClass:\"animated jello infinite\"},[_vm._v(\"-[]-\")]),_c('p',{staticClass:\"animated flash infinite\"},[_vm._v(_vm._s(_vm._f(\"_\")(\"Connection...\")))])]):_vm._e(),(_vm.viewForm)?_c('div',{staticClass:\"login-footer\"},[(_vm.formType === 'login')?_c('span',{staticClass:\"a-type\",on:{\"click\":function($event){_vm.formType = 'register'}}},[_vm._v(_vm._s(_vm._f(\"_\")(\"Register\")))]):_vm._e(),(_vm.formType === 'register')?_c('span',{staticClass:\"a-type\",on:{\"click\":function($event){_vm.formType = 'login'}}},[_vm._v(_vm._s(_vm._f(\"_\")(\"Login\")))]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form id=\"login-form\">\n    <div class=\"form-inputs\">\n      <h1 class=\"login-header\" :class=\"headerCss\" v-if=\"formType === 'login'\">\n        {{ \"LOGIN FORM\" | _ }}\n      </h1>\n      <h1\n        class=\"login-header\"\n        :class=\"headerCss\"\n        v-if=\"formType === 'register'\"\n      >\n        {{ \"REGISTER FORM\" | _ }}\n      </h1>\n      <div class=\"login-main\" v-if=\"viewForm\">\n        <p class=\"error-text\" v-if=\"hasError\">{{ errorTextView }}</p>\n        <div class=\"form-group\">\n          <label>{{ \"E-mail\" | _ }}</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            :placeholder=\"'yourname@host.ex' | _\"\n            v-model=\"email\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label>{{ \"Password\" | _ }}</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            placeholder=\"******\"\n            autocomplete=\"off\"\n            v-model=\"password\"\n          />\n        </div>\n        <button\n          type=\"button\"\n          class=\"btn login-button\"\n          v-if=\"formType === 'login'\"\n          @click=\"connectToSocket\"\n        >\n          {{ \"LOGIN\" | _ }}\n        </button>\n        <div class=\"register\" v-if=\"formType === 'register'\">\n          <div class=\"form-group\">\n            <label>{{ \"Name\" | _ }}</label>\n            <input type=\"text\" class=\"form-control\" v-model=\"name\" />\n          </div>\n          <button\n            type=\"button\"\n            class=\"btn login-button\"\n            @click=\"connectToSocket\"\n          >\n            {{ \"Register and login\" | _ }}\n          </button>\n        </div>\n      </div>\n\n      <div class=\"login-loader\" v-if=\"!viewForm\">\n        <p class=\"animated jello infinite\">-[]-</p>\n        <p class=\"animated flash infinite\">{{ \"Connection...\" | _ }}</p>\n      </div>\n      <div class=\"login-footer\" v-if=\"viewForm\">\n        <span\n          class=\"a-type\"\n          v-if=\"formType === 'login'\"\n          @click=\"formType = 'register'\"\n          >{{ \"Register\" | _ }}</span\n        >\n        <span\n          class=\"a-type\"\n          v-if=\"formType === 'register'\"\n          @click=\"formType = 'login'\"\n          >{{ \"Login\" | _ }}</span\n        >\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: \"LoginForm\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      errorText: \"\",\n      errorTimer: null,\n      viewForm: true,\n      formType: \"login\",\n    };\n  },\n  computed: {\n    hasError() {\n      try {\n        return this.errorText.length > 0;\n      } catch (e) {\n        return false;\n      }\n    },\n    errorTypeOfArray() {\n      return typeof this.errorText === \"object\";\n    },\n    errorTextView() {\n      if (this.errorTypeOfArray) {\n        return this.errorText.join(\", \");\n      }\n      return this.errorText;\n    },\n    headerCss() {\n      let css = {};\n      if (this.hasError) {\n        css.animated = true;\n        css.shakeX = true;\n      }\n      return css;\n    },\n  },\n  methods: {\n    /**\n     *Soccet connection\n     */\n    connectToSocket() {\n      this.errorText = \"\";\n      if (this.email.length < 1 || this.password.length < 1) {\n        this.setError(this.$options.filters._(\"please fill in the fields\"));\n      } else if (this.formType === \"register\" && this.name.length < 1) {\n        this.setError(this.$options.filters._(\"please fill in the fields\"));\n      } else {\n        this.viewForm = false;\n        if (!this.$root.socketConnected) {\n          this.$root.ws_connection();\n        } else {\n          this.socketConnectedEvent();\n        }\n      }\n    },\n    /**\n     * Triggered when connected to socket\n     */\n    socketConnectedEvent() {\n      if (this.formType === \"login\") {\n        this.$root.sendLoginRequest({\n          method: \"login\",\n          params: { email: this.email, password: this.password },\n          id: \"login\",\n        });\n      } else {\n        this.$root.sendRegisterRequest({\n          method: \"register\",\n          params: {\n            email: this.email,\n            password: this.password,\n            name: this.name,\n          },\n          id: \"register\",\n        });\n      }\n    },\n    /**\n     * Triggered when socket responds to login request\n     * @param response\n     */\n    listenLogin(response) {\n      if (Object.prototype.hasOwnProperty.call(response, \"error\")) {\n        this.setError(response.error.message);\n      } else {\n        if (Object.prototype.hasOwnProperty.call(response, \"result\")) {\n          if (parseInt(response.result.code) === 200) {\n            this.$root.setLoginUser(response);\n            return;\n          }\n        } else {\n          this.setError(this.$options.filters._(\"something went wrong\"));\n        }\n      }\n      //this.$root.ws_disconnect();\n    },\n    /**\n     * Performs validation for the login form\n     * @param message\n     */\n    setError(message) {\n      this.viewForm = true;\n      this.errorText = message;\n      if (this.errorTimer !== null) {\n        clearTimeout(this.errorTimer);\n      }\n      this.errorTimer = setTimeout(\n        function (self) {\n          self.errorText = \"\";\n        },\n        3000,\n        this\n      );\n    },\n  },\n  mounted() {\n    window.appEvent.on(\"socket_connected\", this.socketConnectedEvent);\n    window.appEvent.on(\"login\", this.listenLogin);\n  },\n  destroyed() {\n    window.appEvent.removeListener(\n      \"socket_connected\",\n      this.socketConnectedEvent\n    );\n    window.appEvent.removeListener(\"login\", this.listenLogin);\n    console.log(\"login cleared\");\n  },\n};\n</script>\n\n<style lang=\"scss\">\n#login-form {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: #2980b9;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  .form-inputs {\n    width: 300px;\n    height: auto;\n    background-color: #fff;\n    border-radius: 5px;\n    box-shadow: 0px 0px 31px 21.6px rgba(17, 81, 121, 0.5);\n    padding: 30px;\n    .login-header {\n      font-size: 1.3rem;\n      text-align: center;\n      padding: 0;\n      margin: 40px 0 25px 0;\n      color: #2980b9;\n    }\n    .form-group {\n      margin-bottom: 30px;\n      width: 100%;\n      label {\n        display: block;\n        font-weight: 600;\n        padding: 0;\n        margin-bottom: 10px;\n        font-family: 1rem;\n        color: #2980b9;\n      }\n      .form-control {\n        width: 100%;\n        padding: 15px;\n        border-radius: 5px;\n        border: 1px solid #2980b9;\n      }\n    }\n    .login-button {\n      border: none;\n      background: #2980b9;\n      width: 100%;\n      border-radius: 5px;\n      padding: 15px;\n      color: #ffffff;\n      cursor: pointer;\n      transition: all 300ms linear;\n      &:hover {\n        background: #43e284;\n      }\n    }\n    .error-text {\n      color: #e24c56;\n    }\n  }\n  .login-loader {\n    text-align: center;\n  }\n  .login-footer {\n    padding: 15px;\n    text-align: center;\n    .a-type {\n      cursor: pointer;\n      &:hover {\n        color: #2980b9;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginForm.vue?vue&type=template&id=4d0b87e4&\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <chat-main v-if=\"$root.isLogin\" />\n    <login-form v-else />\n  </div>\n</template>\n\n<script>\nimport ChatMain from \"@/components/ChatMain\";\nimport LoginForm from \"@/components/LoginForm\";\nexport default {\n  name: \"App\",\n  components: { ChatMain, LoginForm },\n};\n</script>\n\n<style lang=\"scss\">\nhtml {\n  font-size: 15px;\n}\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: Helvetica, sans-serif;\n}\n* {\n  box-sizing: border-box;\n  outline: none;\n  text-decoration: none;\n}\n#app {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=57bb84e4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const AllFilters = {\n  _: function (text) {\n    return text;\n  },\n  __: function (text, replace = {}) {\n    let trans = this._(text);\n    if (Object.keys(replace).length > 0) {\n      Object.entries(replace).forEach(function ([key, value]) {\n        trans = trans.replace(new RegExp(\":\" + key, \"g\"), value);\n      });\n    }\n    return trans;\n  },\n  capitalize: function (value) {\n    if (!value) {\n      return \"\";\n    }\n    value = value.toString();\n    return value.charAt(0).toUpperCase() + value.slice(1);\n  },\n  deCapitalize: function (value) {\n    if (!value) {\n      return \"\";\n    }\n    value = value.toString();\n    return value.charAt(0).toLowerCase() + value.slice(1);\n  },\n  dataText(val) {\n    if (val < 1024) {\n      return val + \" MB\";\n    }\n    return val / 1024 + \" GB\";\n  },\n};\n\nexport { AllFilters };\n","const io = require(\"socket.io-client\");\n\nconst appWebSocket = {\n  data: function () {\n    return {\n      socket: null,\n      socketConnected: false,\n      wsListener: {},\n      socketPromiseQueue: {},\n      socketPromiseTimeout: 15000,\n      idEventPrefix: \"SOCKETID_\",\n    };\n  },\n  methods: {\n    ws_connection() {\n      if (this.socketConnected) {\n        return;\n      }\n      this.socket = io.connect(\"ws://localhost:3000\", {\n        transports: [\"websocket\"],\n      });\n      this.socket.on(\"connect\", this.ws_connected.bind(this));\n      this.socket.on(\"disconnect\", this.ws_disconnected.bind(this));\n      this.socket.on(\"reconnect\", this.ws_reconnect.bind(this));\n      this.socket.on(\"message\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"login\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"register\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"getUsers\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"setFriend\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"getMessages\", this.ws_dispatcher.bind(this));\n      this.socket.on(\"notify\", this.ws_dispatcher.bind(this));\n    },\n    ws_connected() {\n      console.log(\"socket connected\");\n      this.socketConnected = true;\n      window.appEvent.emit(\"socket_connected\");\n    },\n    ws_disconnected() {\n      console.log(\"socket disconnected\");\n      this.socketConnected = false;\n      window.appEvent.emit(\"socket_disconnected\");\n    },\n    ws_reconnect() {\n      console.log(\"socket reconnect\");\n    },\n    ws_dispatcher(payload = {}) {\n      if (typeof payload !== \"object\") {\n        payload = JSON.parse(payload);\n      }\n      console.log(\"DISPATCHER\", payload);\n      if (Object.prototype.hasOwnProperty.call(payload, \"method\")) {\n        window.appEvent.emit(payload.method, payload);\n      }\n      if (Object.prototype.hasOwnProperty.call(payload, \"id\")) {\n        window.appEvent.emit(this.idEventPrefix + payload.id, payload);\n      }\n    },\n    sendMessage(data) {\n      return this._send(\"message\", data);\n    },\n    sendLoginRequest(data) {\n      return this._send(\"login\", data);\n    },\n    sendRegisterRequest(data) {\n      return this._send(\"register\", data);\n    },\n    _send(endpoint, data, option = {}) {\n      this.socket.emit(endpoint, data);\n\n      if (Object.prototype.hasOwnProperty.call(data, \"id\")) {\n        this.socketPromiseQueue[this.idEventPrefix + data.id] =\n          this.ws_promise();\n        window.appEvent.on(\n          this.idEventPrefix + data.id,\n          this.ws_promise_resolver\n        );\n\n        if (!Object.prototype.hasOwnProperty.call(option, \"timeout\")) {\n          option.timeout = this.socketPromiseTimeout;\n        }\n        this.setSocketResponseTimeOut(\n          this.idEventPrefix + data.id,\n          option.timeout\n        );\n        return this.socketPromiseQueue[this.idEventPrefix + data.id];\n      }\n      return Promise.resolve(data);\n    },\n    ws_promise(handler = function () {}) {\n      let rResolve, rReject;\n      let promise = new Promise(function (resolve, reject) {\n        rResolve = resolve;\n        rReject = reject;\n        try {\n          handler(resolve, reject);\n          // eslint-disable-next-line no-empty\n        } catch (e) {}\n      });\n      promise.resolve = rResolve;\n      promise.reject = rReject;\n      return promise;\n    },\n    ws_promise_resolver(data) {\n      let socketID = \"\";\n      if (Object.prototype.hasOwnProperty.call(data, \"id\")) {\n        socketID = this.idEventPrefix + data.id;\n        if (\n          Object.prototype.hasOwnProperty.call(\n            this.socketPromiseQueue,\n            socketID\n          )\n        ) {\n          this.socketPromiseQueue[socketID].resolve(data);\n          window.appEvent.removeListener(socketID, this.ws_promise_resolver);\n          delete this.socketPromiseQueue[socketID];\n        }\n      }\n    },\n    setSocketResponseTimeOut(key, timeOut) {\n      let that = this;\n      if (!Object.prototype.hasOwnProperty.call(that.socketPromiseQueue, key)) {\n        return;\n      }\n      setTimeout(function () {\n        try {\n          window.appEvent.removeListener(key, that.ws_promise_resolver);\n          if (typeof that.socketPromiseQueue[key] !== \"undefined\") {\n            that.socketPromiseQueue[key].resolve({\n              error: {\n                code: 500,\n                message: \"client-side timeout\",\n              },\n              id: key.replace(that.idEventPrefix, \"\"),\n            });\n          }\n          // eslint-disable-next-line no-empty\n        } catch (e) {}\n        delete that.socketPromiseQueue[key];\n      }, timeOut);\n    },\n    ws_disconnect() {\n      if (!this.socketConnected) {\n        return;\n      }\n      this.socket.disconnect();\n    },\n  },\n\n  created() {\n    // this.socket = io.connect(\"http://localhost:3000\");\n    // this.socket.on(\"connect\", function () {\n    //   console.log(\"socket connected\");\n    // });\n  },\n};\n\nexport { appWebSocket };\n","export const AppData = {\n  data() {\n    return {\n      isLogin: false,\n      userInfo: {},\n      messageList: [],\n      userList: [],\n    };\n  },\n  methods: {\n    setLoginUser(wsResponse) {\n      this.userInfo.name = wsResponse.result.name;\n      this.userInfo.id = wsResponse.result._id;\n      this.userInfo.token = wsResponse.result.token;\n\n      this.isLogin = true;\n    },\n  },\n  mounted() {},\n};\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport { AllFilters } from \"./filters/AllFilters\";\nimport { appWebSocket } from \"@/mixins/AppWebSocket\";\nimport { AppData } from \"@/mixins/AppData\";\nconst EventEmitter = require(\"events\");\n\nObject.entries(AllFilters).forEach(function ([name, method]) {\n  Vue.filter(name, method);\n});\nVue.config.productionTip = false;\nwindow.appEvent = new EventEmitter();\nwindow.App = new Vue({\n  mixins: [AppData, appWebSocket],\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMain.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageForm.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}